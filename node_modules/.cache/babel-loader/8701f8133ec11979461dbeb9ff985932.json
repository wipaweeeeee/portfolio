{"ast":null,"code":"import _slicedToArray from \"/Users/wipawe.sirikolkarn/development/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/wipawe.sirikolkarn/development/portfolio/src/packages/archive/Archive.js\";\nimport React, { useState, useEffect } from 'react';\nimport Masonry from 'react-masonry-css';\nimport styles from './archive.module.scss';\n\nvar Airtable = require('airtable');\n\nconst Archive = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        content = _useState2[0],\n        setContent = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        done = _useState4[0],\n        setDone = _useState4[1];\n\n  var allContent = [];\n\n  const retrieveContent = () => {\n    var base = new Airtable({\n      apiKey: 'keywJEKrRFRrPEmMI'\n    }).base('appS0UCDSYim1dOsM');\n    base('Work').select().eachPage(function page(records, fetchNextPage) {\n      records.forEach(function (record) {\n        let type = record.get('type');\n\n        if (type === \"archive\") {\n          allContent.push(record);\n        }\n      });\n      fetchNextPage();\n    }, function done(err) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n\n      setDone(true);\n    });\n  };\n\n  useEffect(() => {\n    retrieveContent();\n    setContent(allContent);\n  }, [done]);\n\n  const GenerateContent = () => {\n    let masonry = [];\n    done && allContent.map((item, index) => {\n      masonry.push(React.createElement(\"div\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"sup\"));\n    });\n    console.log(content);\n    console.log(masonry);\n    return masonry;\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(GenerateContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }));\n};\n\nexport default Archive;","map":{"version":3,"sources":["/Users/wipawe.sirikolkarn/development/portfolio/src/packages/archive/Archive.js"],"names":["React","useState","useEffect","Masonry","styles","Airtable","require","Archive","content","setContent","done","setDone","allContent","retrieveContent","base","apiKey","select","eachPage","page","records","fetchNextPage","forEach","record","type","get","push","err","console","error","GenerateContent","masonry","map","item","index","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;;AAEA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA,oBAEWN,QAAQ,CAAC,EAAD,CAFnB;AAAA;AAAA,QAEbO,OAFa;AAAA,QAEJC,UAFI;;AAAA,qBAGKR,QAAQ,EAHb;AAAA;AAAA,QAGbS,IAHa;AAAA,QAGPC,OAHO;;AAKrB,MAAIC,UAAU,GAAG,EAAjB;;AAEA,QAAMC,eAAe,GAAG,MAAM;AAE7B,QAAIC,IAAI,GAAG,IAAIT,QAAJ,CAAa;AAACU,MAAAA,MAAM,EAAE;AAAT,KAAb,EAA4CD,IAA5C,CAAiD,mBAAjD,CAAX;AACAA,IAAAA,IAAI,CAAC,MAAD,CAAJ,CAAaE,MAAb,GAAsBC,QAAtB,CAA+B,SAASC,IAAT,CAAcC,OAAd,EAAuBC,aAAvB,EAAsC;AAEjED,MAAAA,OAAO,CAACE,OAAR,CAAgB,UAASC,MAAT,EAAiB;AAChC,YAAIC,IAAI,GAAGD,MAAM,CAACE,GAAP,CAAW,MAAX,CAAX;;AACA,YAAID,IAAI,KAAK,SAAb,EAAwB;AACvBX,UAAAA,UAAU,CAACa,IAAX,CAAgBH,MAAhB;AACA;AACD,OALD;AAOAF,MAAAA,aAAa;AAEhB,KAXD,EAWG,SAASV,IAAT,CAAcgB,GAAd,EAAmB;AAClB,UAAIA,GAAJ,EAAS;AAAEC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AAAoB;AAAS;;AAExCf,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH,KAfD;AAgBA,GAnBD;;AAqBAT,EAAAA,SAAS,CAAC,MAAM;AACfW,IAAAA,eAAe;AACfJ,IAAAA,UAAU,CAACG,UAAD,CAAV;AACA,GAHQ,EAGN,CAACF,IAAD,CAHM,CAAT;;AAMA,QAAMmB,eAAe,GAAG,MAAM;AAC7B,QAAIC,OAAO,GAAG,EAAd;AAEApB,IAAAA,IAAI,IAAIE,UAAU,CAACmB,GAAX,CAAe,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACvCH,MAAAA,OAAO,CAACL,IAAR,CAAc;AAAK,QAAA,GAAG,EAAEQ,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAd;AACA,KAFO,CAAR;AAIAN,IAAAA,OAAO,CAACO,GAAR,CAAY1B,OAAZ;AACAmB,IAAAA,OAAO,CAACO,GAAR,CAAYJ,OAAZ;AAEA,WAAOA,OAAP;AACA,GAXD;;AAaA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CADD;AAGA,CAlDD;;AAoDA,eAAevB,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport Masonry from 'react-masonry-css'\nimport styles from './archive.module.scss';\n\nvar Airtable = require('airtable');\n\nconst Archive = () => {\n\n\tconst [ content, setContent ] = useState([]);\n\tconst [ done, setDone ] = useState();\n\n\tvar allContent = [];\n\n\tconst retrieveContent = () => {\n\t\t\n\t\tvar base = new Airtable({apiKey: 'keywJEKrRFRrPEmMI'}).base('appS0UCDSYim1dOsM');\n\t\tbase('Work').select().eachPage(function page(records, fetchNextPage) {\n\n\t\t    records.forEach(function(record) {\n\t\t    \tlet type = record.get('type');\n\t\t    \tif (type === \"archive\") {\n\t\t    \t\tallContent.push(record);\n\t\t    \t}\n\t\t    });\n\n\t\t    fetchNextPage();\n\n\t\t}, function done(err) {\n\t\t    if (err) { console.error(err); return; }\n\n\t\t    setDone(true);\n\t\t});\n\t}\t\n\n\tuseEffect(() => {\n\t\tretrieveContent();\n\t\tsetContent(allContent);\n\t}, [done]);\n\t\n\n\tconst GenerateContent = () => {\n\t\tlet masonry = [];\n\n\t\tdone && allContent.map((item, index) => {\n\t\t\tmasonry.push( <div key={index}>sup</div> )\n\t\t})\n\n\t\tconsole.log(content)\n\t\tconsole.log(masonry)\n\n\t\treturn masonry;\n\t}\n\n\treturn (\n\t\t<div><GenerateContent /></div>\n\t)\n}\n\nexport default Archive;"]},"metadata":{},"sourceType":"module"}