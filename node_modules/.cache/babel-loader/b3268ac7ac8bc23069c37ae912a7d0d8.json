{"ast":null,"code":"var internalConfig = require('./internal_config.json'); // \"Full Jitter\" algorithm taken from https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/\n\n\nfunction exponentialBackoffWithJitter(numberOfRetries) {\n  var rawBackoffTimeMs = internalConfig.INITIAL_RETRY_DELAY_IF_RATE_LIMITED * Math.pow(2, numberOfRetries);\n  var clippedBackoffTimeMs = Math.min(internalConfig.MAX_RETRY_DELAY_IF_RATE_LIMITED, rawBackoffTimeMs);\n  var jitteredBackoffTimeMs = Math.random() * clippedBackoffTimeMs;\n  return jitteredBackoffTimeMs;\n}\n\nmodule.exports = exponentialBackoffWithJitter;","map":null,"metadata":{},"sourceType":"script"}