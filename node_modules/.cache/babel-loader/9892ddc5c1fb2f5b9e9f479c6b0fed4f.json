{"ast":null,"code":"import _slicedToArray from \"/Users/wipawe.sirikolkarn/development/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/wipawe.sirikolkarn/development/portfolio/src/packages/archive/Archive.js\";\nimport React, { useState } from 'react';\n\nvar Airtable = require('airtable');\n\nconst Archive = () => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        content = _useState2[0],\n        setContent = _useState2[1];\n\n  const retrieveContent = () => {\n    var base = new Airtable({\n      apiKey: 'keywJEKrRFRrPEmMI'\n    }).base('appS0UCDSYim1dOsM');\n    base('Work').select().eachPage(function page(records, fetchNextPage) {\n      records.forEach(function (record) {\n        let type = record.get('type');\n\n        if (type === \"archive\") {\n          setContent(content => [...content, {\n            title: record.get('title')\n          }]);\n        }\n\n        console.log(content);\n      });\n      fetchNextPage();\n    }, function done(err) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n    });\n  };\n\n  retrieveContent();\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"hi\");\n};\n\nexport default Archive;","map":{"version":3,"sources":["/Users/wipawe.sirikolkarn/development/portfolio/src/packages/archive/Archive.js"],"names":["React","useState","Airtable","require","Archive","content","setContent","retrieveContent","base","apiKey","select","eachPage","page","records","fetchNextPage","forEach","record","type","get","title","console","log","done","err","error"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA,oBAEWH,QAAQ,CAAC,EAAD,CAFnB;AAAA;AAAA,QAEbI,OAFa;AAAA,QAEJC,UAFI;;AAIrB,QAAMC,eAAe,GAAG,MAAM;AAC7B,QAAIC,IAAI,GAAG,IAAIN,QAAJ,CAAa;AAACO,MAAAA,MAAM,EAAE;AAAT,KAAb,EAA4CD,IAA5C,CAAiD,mBAAjD,CAAX;AACAA,IAAAA,IAAI,CAAC,MAAD,CAAJ,CAAaE,MAAb,GAAsBC,QAAtB,CAA+B,SAASC,IAAT,CAAcC,OAAd,EAAuBC,aAAvB,EAAsC;AAEjED,MAAAA,OAAO,CAACE,OAAR,CAAgB,UAASC,MAAT,EAAiB;AAChC,YAAIC,IAAI,GAAGD,MAAM,CAACE,GAAP,CAAW,MAAX,CAAX;;AACA,YAAID,IAAI,KAAK,SAAb,EAAwB;AACvBX,UAAAA,UAAU,CAAED,OAAO,IAAI,CAAC,GAAGA,OAAJ,EAAa;AAACc,YAAAA,KAAK,EAAEH,MAAM,CAACE,GAAP,CAAW,OAAX;AAAR,WAAb,CAAb,CAAV;AACA;;AAEDE,QAAAA,OAAO,CAACC,GAAR,CAAYhB,OAAZ;AAEA,OARD;AAUAS,MAAAA,aAAa;AAEhB,KAdD,EAcG,SAASQ,IAAT,CAAcC,GAAd,EAAmB;AAClB,UAAIA,GAAJ,EAAS;AAAEH,QAAAA,OAAO,CAACI,KAAR,CAAcD,GAAd;AAAoB;AAAS;AAC3C,KAhBD;AAiBA,GAnBD;;AAuBAhB,EAAAA,eAAe;AAEf,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACA,CA9BD;;AAgCA,eAAeH,OAAf","sourcesContent":["import React, { useState } from 'react'; \n\nvar Airtable = require('airtable');\n\nconst Archive = () => {\n\n\tconst [ content, setContent ] = useState({});\n\n\tconst retrieveContent = () => {\n\t\tvar base = new Airtable({apiKey: 'keywJEKrRFRrPEmMI'}).base('appS0UCDSYim1dOsM');\n\t\tbase('Work').select().eachPage(function page(records, fetchNextPage) {\n\n\t\t    records.forEach(function(record) {\n\t\t    \tlet type = record.get('type');\n\t\t    \tif (type === \"archive\") {\n\t\t    \t\tsetContent( content => [...content, {title: record.get('title')} ])\n\t\t    \t}\n\n\t\t    \tconsole.log(content)\n\t\t        \n\t\t    });\n\n\t\t    fetchNextPage();\n\n\t\t}, function done(err) {\n\t\t    if (err) { console.error(err); return; }\n\t\t});\n\t}\n\t\n\t\n\n\tretrieveContent();\n\n\treturn <div>hi</div>\n}\n\nexport default Archive;"]},"metadata":{},"sourceType":"module"}